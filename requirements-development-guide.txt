# üõ†Ô∏è H∆Ø·ªöNG D·∫™N C√ÄI ƒê·∫∂T CHI TI·∫æT - DEVELOPMENT ENVIRONMENT
# Development Dependencies - D√†nh cho developers

## üë®‚Äçüíª M·ª§C ƒê√çCH FILE N√ÄY
File n√†y d√†nh cho developers mu·ªën:
- Ph√°t tri·ªÉn v√† modify source code
- Build executable files (.exe, .app, .AppImage)
- Ch·∫°y tests v√† code quality checks
- T·∫°o documentation
- Deploy v√† publish ·ª©ng d·ª•ng

## üìã Y√äU C·∫¶U B·ªî SUNG (NGO√ÄI PRODUCTION)
- Git (version control)
- Build tools (C++ compiler cho m·ªôt s·ªë packages)
- Text editor/IDE (VS Code, PyCharm khuy·∫øn ngh·ªã)
- Terminal/Command line familiarity

## üîß B∆Ø·ªöC 1: C√ÄI ƒê·∫∂T PRODUCTION DEPENDENCIES TR∆Ø·ªöC

### L√†m theo h∆∞·ªõng d·∫´n trong requirements-production-guide.txt tr∆∞·ªõc:
1. Ki·ªÉm tra Python version (3.8-3.11)
2. T·∫°o v√† k√≠ch ho·∫°t virtual environment
3. C√†i ƒë·∫∑t production dependencies

### Ki·ªÉm tra production setup ho·∫°t ƒë·ªông:
```bash
# K√≠ch ho·∫°t m√¥i tr∆∞·ªùng ·∫£o
.venv\Scripts\activate

# Test production dependencies
python -c "import cv2, mediapipe, numpy, pygame; print('‚úÖ Production ready!')"
```

## üõ†Ô∏è B∆Ø·ªöC 2: C√ÄI ƒê·∫∂T DEVELOPMENT DEPENDENCIES

### C√†i ƒë·∫∑t t·∫•t c·∫£ development tools:
```bash
pip install -r requirements-dev.txt
```

### Ho·∫∑c c√†i ƒë·∫∑t t·ª´ng nh√≥m chi ti·∫øt:

## üèóÔ∏è NH√ìM 1: BUILD TOOLS

#### 1. PyInstaller - T·∫°o executable files:
```bash
pip install pyinstaller>=5.13.0
```
**M·ª•c ƒë√≠ch**: 
- Build .exe files cho Windows
- Build .app bundles cho macOS  
- Build standalone executables cho Linux
- Bundle t·∫•t c·∫£ dependencies th√†nh 1 file

**S·ª≠ d·ª•ng**:
```bash
# Build Windows executable
pyinstaller --onedir --windowed src/main.py

# Build v·ªõi custom spec file
pyinstaller fatigue_app.spec
```

#### 2. Build - Python package building:
```bash
pip install build>=0.10.0
```
**M·ª•c ƒë√≠ch**: T·∫°o wheel v√† source distributions cho PyPI upload

**S·ª≠ d·ª•ng**:
```bash
python -m build
```

#### 3. Twine - Package uploading:
```bash
pip install twine>=4.0.0
```
**M·ª•c ƒë√≠ch**: Upload packages l√™n PyPI ho·∫∑c private repositories

**S·ª≠ d·ª•ng**:
```bash
twine upload dist/*
```

## üé® NH√ìM 2: GUI DEVELOPMENT (OPTIONAL)

#### 4. Tkinter-page - GUI designer:
```bash
pip install tkinter-page>=0.1.0
```
**M·ª•c ƒë√≠ch**: Visual GUI designer cho tkinter applications
**L∆∞u √Ω**: Optional v√¨ project ƒë√£ c√≥ GUI, ch·ªâ c·∫ßn n·∫øu mu·ªën modify interface

## ü§ñ NH√ìM 3: MACHINE LEARNING BOOST (OPTIONAL)

#### 5. Scikit-learn - ML algorithms:
```bash
pip install scikit-learn>=1.0.0
```
**M·ª•c ƒë√≠ch**: 
- Advanced classification algorithms
- Data preprocessing v√† feature engineering
- Model evaluation metrics

#### 6. SciPy - Scientific computing:
```bash
pip install scipy>=1.7.0
```
**M·ª•c ƒë√≠ch**:
- Advanced mathematical functions
- Signal processing for audio alerts
- Optimization algorithms

## üß™ NH√ìM 4: TESTING FRAMEWORK

#### 7. Pytest - Testing framework:
```bash
pip install pytest>=7.0.0
```
**M·ª•c ƒë√≠ch**: Ch·∫°y unit tests, integration tests

**S·ª≠ d·ª•ng**:
```bash
# Ch·∫°y t·∫•t c·∫£ tests
pytest tests/

# Ch·∫°y v·ªõi verbose output
pytest -v tests/

# Ch·∫°y specific test file
pytest tests/test_detection_rules.py
```

#### 8. Pytest-cov - Coverage reporting:
```bash
pip install pytest-cov>=4.0.0
```
**M·ª•c ƒë√≠ch**: ƒêo test coverage, t·∫°o coverage reports

**S·ª≠ d·ª•ng**:
```bash
# Ch·∫°y tests v·ªõi coverage
pytest --cov=src tests/

# T·∫°o HTML coverage report
pytest --cov=src --cov-report=html tests/
```

## üìè NH√ìM 5: CODE QUALITY & LINTING

#### 9. Black - Code formatter:
```bash
pip install black>=23.0.0
```
**M·ª•c ƒë√≠ch**: T·ª± ƒë·ªông format code theo PEP 8 standard

**S·ª≠ d·ª•ng**:
```bash
# Format t·∫•t c·∫£ files
black src/

# Check formatting (kh√¥ng thay ƒë·ªïi files)
black --check src/

# Format v·ªõi line length 88
black --line-length 88 src/
```

#### 10. Flake8 - Code linter:
```bash
pip install flake8>=6.0.0
```
**M·ª•c ƒë√≠ch**: Ki·ªÉm tra code style, syntax errors, complexity

**S·ª≠ d·ª•ng**:
```bash
# Lint all Python files
flake8 src/

# Lint v·ªõi custom config
flake8 --max-line-length=88 --ignore=E203,W503 src/
```

#### 11. Isort - Import sorter:
```bash
pip install isort>=5.12.0
```
**M·ª•c ƒë√≠ch**: T·ª± ƒë·ªông s·∫Øp x·∫øp v√† organize import statements

**S·ª≠ d·ª•ng**:
```bash
# Sort imports
isort src/

# Check imports (kh√¥ng thay ƒë·ªïi)
isort --check-only src/

# Sort v·ªõi Black compatibility
isort --profile black src/
```

## üìö NH√ìM 6: DOCUMENTATION

#### 12. Sphinx - Documentation generator:
```bash
pip install sphinx>=5.0.0
```
**M·ª•c ƒë√≠ch**: T·∫°o professional documentation t·ª´ docstrings

#### 13. Sphinx-rtd-theme - ReadTheDocs theme:
```bash
pip install sphinx-rtd-theme>=1.2.0
```
**M·ª•c ƒë√≠ch**: Theme ƒë·∫πp cho Sphinx documentation

**S·ª≠ d·ª•ng**:
```bash
# T·∫°o documentation
sphinx-quickstart docs/
sphinx-build -b html docs/ docs/_build/html
```

## üöÄ B∆Ø·ªöC 3: SETUP DEVELOPMENT WORKFLOW

### T·∫°o script workflow t·ª± ƒë·ªông:

#### Pre-commit hooks setup:
```bash
# T·∫°o pre-commit config
cat > .pre-commit-config.yaml << 'EOF'
repos:
  - repo: local
    hooks:
      - id: black
        name: black
        entry: black
        language: python
        files: \.py$
      - id: isort
        name: isort
        entry: isort
        language: python
        files: \.py$
      - id: flake8
        name: flake8
        entry: flake8
        language: python
        files: \.py$
EOF
```

#### Development tasks script:
```bash
# T·∫°o dev-tasks.py
cat > dev-tasks.py << 'EOF'
import subprocess
import sys

def format_code():
    subprocess.run([sys.executable, "-m", "black", "src/"])
    subprocess.run([sys.executable, "-m", "isort", "src/"])

def lint_code():
    subprocess.run([sys.executable, "-m", "flake8", "src/"])

def run_tests():
    subprocess.run([sys.executable, "-m", "pytest", "tests/", "-v"])

def build_app():
    subprocess.run([sys.executable, "-m", "pyinstaller", "fatigue_app.spec"])

if __name__ == "__main__":
    if len(sys.argv) > 1:
        task = sys.argv[1]
        if task == "format":
            format_code()
        elif task == "lint":
            lint_code()
        elif task == "test":
            run_tests()
        elif task == "build":
            build_app()
        else:
            print("Available tasks: format, lint, test, build")
EOF
```

## üîß B∆Ø·ªöC 4: DEVELOPMENT COMMANDS

### Code quality workflow:
```bash
# 1. Format code
python dev-tasks.py format

# 2. Check linting
python dev-tasks.py lint

# 3. Run tests
python dev-tasks.py test

# 4. Build application
python dev-tasks.py build
```

### Manual commands:
```bash
# Format v√† check code
black src/ && isort src/ && flake8 src/

# Run tests v·ªõi coverage
pytest --cov=src tests/ --cov-report=html

# Build executable
pyinstaller --clean fatigue_app.spec

# Build installer (Windows)
.\build-installer-windows.ps1
```

## üèóÔ∏è B∆Ø·ªöC 5: BUILD EXECUTABLE

### Windows build:
```bash
# Build v·ªõi PowerShell script
.\build-windows.ps1 -Clean -Verbose

# Build installer
.\build-installer-windows.ps1

# All-in-one build
.\build-all.ps1 -Platform windows -Installer -Clean
```

### Cross-platform build preparation:
```bash
# macOS (c·∫ßn macOS system)
chmod +x build-macos.sh
./build-macos.sh

# Linux (c·∫ßn Linux system)  
chmod +x build-linux.sh
./build-linux.sh
```

## ‚ùó TROUBLESHOOTING DEVELOPMENT ISSUES

### üî¥ PyInstaller build errors:
```
ModuleNotFoundError during build
```
**Gi·∫£i ph√°p**: 
1. Th√™m missing module v√†o hiddenimports trong fatigue_app.spec
2. Ki·ªÉm tra t·∫•t c·∫£ imports trong source code
3. C√†i l·∫°i PyInstaller: `pip install --force-reinstall pyinstaller`

### üî¥ Black v√† Flake8 conflicts:
```
E203 whitespace before ':'
W503 line break before binary operator
```
**Gi·∫£i ph√°p**: Th√™m v√†o .flake8 config:
```ini
[flake8]
ignore = E203, W503
max-line-length = 88
```

### üî¥ Pytest kh√¥ng t√¨m th·∫•y modules:
```
ModuleNotFoundError: No module named 'src'
```
**Gi·∫£i ph√°p**: T·∫°o pytest.ini:
```ini
[tool:pytest]
python_paths = .
testpaths = tests
pythonpath = src
```

### üî¥ Sphinx documentation errors:
```
autodoc: failed to import module
```
**Gi·∫£i ph√°p**: Th√™m sys.path trong docs/conf.py:
```python
import sys
import os
sys.path.insert(0, os.path.abspath('../src'))
```

## üîç TESTING DEVELOPMENT SETUP

### Test t·∫•t c·∫£ tools:
```python
# Test script: test_dev_setup.py
import subprocess
import sys

def test_tool(tool_name, command):
    try:
        result = subprocess.run(command, capture_output=True, text=True)
        print(f"‚úÖ {tool_name}: OK")
        return True
    except Exception as e:
        print(f"‚ùå {tool_name}: {e}")
        return False

# Test all tools
tools = [
    ("PyInstaller", [sys.executable, "-m", "pyinstaller", "--version"]),
    ("Black", [sys.executable, "-m", "black", "--version"]),
    ("Flake8", [sys.executable, "-m", "flake8", "--version"]), 
    ("Pytest", [sys.executable, "-m", "pytest", "--version"]),
    ("Isort", [sys.executable, "-m", "isort", "--version"]),
]

for tool_name, command in tools:
    test_tool(tool_name, command)
```

## üìä DEVELOPMENT METRICS

### Code quality metrics ƒë·ªÉ track:
- **Test coverage**: Target ‚â• 80%
- **Code complexity**: Keep functions under 10 complexity
- **Import organization**: All imports properly sorted
- **Code style**: 100% Black formatted
- **Linting**: Zero Flake8 warnings
- **Build success**: Executable builds without errors

## üéØ BEST PRACTICES CHO DEVELOPERS

### 1. Workflow h√†ng ng√†y:
```bash
# B·∫Øt ƒë·∫ßu work session
.venv\Scripts\activate
git pull origin main

# Tr∆∞·ªõc khi commit
python dev-tasks.py format
python dev-tasks.py lint  
python dev-tasks.py test

# Build ƒë·ªÉ test
python dev-tasks.py build
```

### 2. Code organization:
- Lu√¥n vi·∫øt docstrings cho functions
- Vi·∫øt unit tests cho logic m·ªõi
- Keep functions small v√† focused
- Use type hints khi c√≥ th·ªÉ

### 3. Version control:
- Commit regularly v·ªõi descriptive messages
- Run tests tr∆∞·ªõc khi push
- Use feature branches cho new features
- Tag releases v·ªõi semantic versioning

---
üìÖ **C·∫≠p nh·∫≠t**: November 29, 2025  
üë®‚Äçüíª **Target audience**: Python developers  
üõ†Ô∏è **Tools included**: 13 development tools + workflow automation  
üéØ **Purpose**: Professional development environment setup
